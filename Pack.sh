R="[1;31m";G="[1;32m";Y="[1;33m";C="[1;36m";B="[1;m";O="[m";abort(){ echo "
$R! $@$O";exit 1;};echo "$Bâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
$R Shell$Y Script$G Pack$C Tools$O
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
    ${G}ä½œè€…ï¼š${C}æ—¶é›¨ğŸŒŒæ˜Ÿç©º$O";[ -d "$1" ]&&[ -f "$1.sh" ]&&INPUT="$(realpath "$1")"&&BASEINPUT="$(basename "$INPUT")"||abort "è¾“å…¥æ–‡ä»¶(å¤¹)ä¸å­˜åœ¨";[ -n "$2" ]&&OUTPUT="$(realpath "$2")"||abort "è¾“å‡ºæ–‡ä»¶ä¸å­˜åœ¨";command -v shc>/dev/null||abort "shcç¼–è¯‘å™¨ä¸å­˜åœ¨";echo "
$Y- æ­£åœ¨ä½¿ç”¨shcç¼–è¯‘è„šæœ¬$O
";shc -vrBf "$1.sh"||abort "è„šæœ¬ç¼–è¯‘å¤±è´¥";echo "
$Y- æ­£åœ¨æ‰“åŒ…ä¸ºè‡ªé‡Šæ”¾è„šæœ¬$O
";echo '#è„šæœ¬å·²ç»è¿‡ç¼–è¯‘ï¼Œéœ€è¦æºä»£ç è¯·è”ç³»ä½œè€…ï¼šæ—¶é›¨ğŸŒŒæ˜Ÿç©º
[ "$(id -u)" = 0 ]||{ echo "'"$Y"'- æ­£åœ¨è·å–rootæƒé™'"$O"'";su -c "sh \"$0\" \"$@\"";exit;};runtime(){ RUNTIME="/data/adb/TimeRainStarSky/Runtime";export PATH="/data/adb/magisk:$PATH";[ -d "$RUNTIME" ]&&[ -f "$RUNTIME/verify" ]&&[ "$(ls "$RUNTIME")" = "$(cat "$RUNTIME/verify")" ]||{ echo "'"$Y"'- æ­£åœ¨é…ç½®è¿è¡Œç¯å¢ƒ'"$O"'";abort(){ rm -rf "$RUNTIME";echo "'"$R"'! $@'"$O"'";exit 1;};rm -rf "$RUNTIME";mkdir -p "$RUNTIME";setcmd(){ CMDPATH="$(command -v "$1")"&&cp "$CMDPATH" "$RUNTIME"&&"$RUNTIME/$@"|tr " " "\n"|while read i;do [ -z "$i" ]&&continue;ln -sf "$1" "$RUNTIME/$i";done||abort "æ‰¾ä¸åˆ°$1ï¼Œè¯·å®‰è£…è¿è¡Œç¯å¢ƒåé‡è¯•";};setcmd busybox --list;setcmd toybox;ls "$RUNTIME">"$RUNTIME/verify";};export PATH="$DIR:$RUNTIME:$PATH";export LD_LIBRARY_PATH="$DIR:$RUNTIME:$LD_LIBRARY_PATH";};DIR="/data/adb/TimeRainStarSky/'"$BASEINPUT"'";runtime;FILE="$(realpath "$0")";cd "$(dirname "$FILE")";EXEC="$DIR/'"$BASEINPUT"'.sh.x";abort(){ rm -rf "$DIR";echo "'"$R"'! $@'"$O"'";exit 1;};mktmp(){ TMP="${DIR}_tmp"&&rm -rf "$TMP"&&mkdir -p "$TMP"||abort "åˆ›å»ºç¼“å­˜æ–‡ä»¶å¤¹å¤±è´¥";};output_file(){ echo "'"$Y"'- æ­£åœ¨é‡Šæ”¾è„šæœ¬'"$O"'";mktmp;tail -n "+$(awk "/$(echo "5a6a5L2N56ym"|base64 -d)/{print NR+1}" "$FILE"|head -n 1)" "$FILE"|xzcat|tar -xvC "$TMP"||abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";rm -rf "$DIR";mv -f "$TMP" "$DIR"||abort "è„šæœ¬ç§»åŠ¨å¤±è´¥";OUTPUTED=1;};check_exec(){ if [ -x "$EXEC" ]&&[ "$(md5sum "$EXEC"|head -c 32)" = "'"$(md5sum "$INPUT.sh.x"|head -c 32)"'" ];then echo "'"$G"'- è„šæœ¬æ ¡éªŒæˆåŠŸï¼Œå¼€å§‹æ‰§è¡Œ'"$O"'";"$EXEC" "$(pwd)" "$FILE"||abort "è„šæœ¬æ‰§è¡Œå¤±è´¥";elif [ "$OUTPUTED" != 1 ];then output_file;check_exec;else abort "è„šæœ¬é‡Šæ”¾å¤±è´¥";fi;};check_exec;exit;å®šä½ç¬¦'>"$OUTPUT"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";mv -f "$INPUT.sh.x" "$INPUT";cd "$INPUT";tar -c *|xz -9cev>>"$OUTPUT"||abort "è„šæœ¬æ‰“åŒ…å¤±è´¥";echo -n "$(sed -n 2p "$INPUT.sh"|tr "[A-Z]" "[a-z]"|tr ";" "\n")
md5=$(md5sum "$OUTPUT"|head -c 32)">"$(dirname "$OUTPUT")/version"||abort "è„šæœ¬ç‰ˆæœ¬æ–‡ä»¶ç”Ÿæˆå¤±è´¥";cat "$(dirname "$OUTPUT")/version"||abort "è„šæœ¬ç‰ˆæœ¬æ–‡ä»¶ç”Ÿæˆå¤±è´¥";echo "

$G- æ‰“åŒ…å®Œæˆ$O"